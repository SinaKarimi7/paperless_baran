<link type="text/css" href="plugins/persiandatepicker/styles/datepicker.css" rel="stylesheet" />

<div class="row">
	<div class="col-lg-8">
		<div class="box box-solid">
			<div class="box-header with-border">
				<h2 class="box-title"><i class="fa fa-calendar"></i>	ثبت اعزام</h2>
			</div>
			<form class="form-horizontal">
				<div class="box-body">
					<div class="form-group">
						<label for="inputDate" class="col-sm-2 control-label">تاریخ:</label>
						<div class="col-lg-6 col-sm-10">
							<input type="text" ng-model="dispatch.date" name="date" id="inputDate" class="form-control datePicker pr-numb" required="required" ng-pattern="/^1[3-4][0-9]{2}/[0-9]{1,2}/[0-9]{1,2}$/" placeholder="ماه/روز/سال" >
						</div>
					</div>
					<h2>لیست هزینه ها</h2>
					<table class="table table-hover">
						<thead>
							<th>عنوان</th>
							<th width="150px">هزینه</th>
							<th width="60px">حذف</th>
						</thead>
						<tbody>
							<tr>
								<td colspan="2" ng-if="!dispatch.costs || dispatch.costs.length == 0">
									هیچ مهارتی اضافه نشده.
								</td>
							</tr>
							<tr ng-repeat="cost in dispatch.costs track by $index">
								<td>
									<input type="text" name="purpose" class="form-control" ng-model="dispatch.costs[$index].comment"  >
								</td>
								<td>
									<input type="text" name="cost" class="form-control pr-numb" ng-model="dispatch.costs[$index].cost"  >
								</td>
								<td>
									<button type="button" class="btn btn-danger" ng-click="dispatch.costs.splice($index,1)" ><i class="fa fa-remove"></i></button>
								</td>
							</tr>
						</tbody>
						<tfoot>
							<tr>
								<td colspan="2">
									<button type="button" class="btn btn-default" ng-click="dispatch.costs.push('')">افزودن  <i class="fa fa-plus"></i></button>
								</td>
							</tr>
						</tfoot>
					</table>

				</div>
			</form>
		</div>
	</div>
</div>


<script type="text/javascript" src="plugins/persiandatepicker/scripts/jquery.ui.datepicker-cc.all.min.js"></script>

<script type="text/javascript">
	var date = new Date();
	date.setYear(date.getYear() - 21);
	new Date()
	$('.datePicker').datepicker({
		dateFormat: 'yy/m/d',
		defaultDate: date,
		changeYear: true,
		changeMonth: true,
		minDate: '-35y',
		maxDate: '-17y',
		showOtherMonths: true,
		selectOtherMonths: false
	});
</script>

var sms_send = require('send_sms');


module.exports = function sms_send_log (data, type ,callback){
    if(global.init.outgo_sms){
        sms_send.send(data, function(send,status){
            if(status){
                var s =  (status.return) ? (status.return.status) ? status.return.status : 404 : 404 ;
                var text = (status.entries[0]) ? (status.entries[0].statustext) ? status.entries[0].statustext : 404 : 404 ;

                console.log(type + " sms to -> " + data.to + " / status : " + s + " / statustext : " + text );
                if(callback) callback(true);
            } else if(callback) callback(false);
        });
    } else {
                console.log(type + " sms to -> " + data.to);
                if(callback) callback(true);
    }
};
